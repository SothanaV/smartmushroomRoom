{% load static %}
<!-- Styles -->
<style>
#chartdiv {
	width	: 100%;
	height	: 500px;
}																	
</style>

<!-- Resources -->
<script src="{% static 'js/amcharts.js' %}">    </script>
<script src="{% static 'js/jquery.js' %}">    </script>
<script src="{% static 'js/serial.js' %}">      </script>
<script src="{% static 'js/export.min.js' %}">  </script>
<link rel="stylesheet" href="{% static 'css/export.css' %}" type="text/css" media="all" />
<script src="{% static 'js/light.js' %}">       </script>

<!-- Chart code -->

<div class="uk-background-muted">
  <br>
  <div class="container">
    <script src="https://www.amcharts.com/lib/3/amcharts.js"></script>
    <script src="https://www.amcharts.com/lib/3/serial.js"></script>
    <script src="https://www.amcharts.com/lib/3/plugins/export/export.min.js"></script>
    <link rel="stylesheet" href="https://www.amcharts.com/lib/3/plugins/export/export.css" type="text/css" media="all" />
    <script src="https://www.amcharts.com/lib/3/themes/light.js"></script>
    <div class="uk-card uk-card-default uk-card-body uk-width-1-1@m">
      <h1 class="thai_font" style="color: #d8703f">{{box_obj.name}}</h1>
      <div id="chartdiv"></div>
      <p class="thai_font uk-text-bold">***หมายเหตุ : เหมาะสะหรับดูในหน้าจอขนาดใหญ่</p>
      <button class="uk-button uk-button-default" onclick="whiteTheme()">White theme</button>
      <button class="uk-button uk-button-secondary" onclick="darkTheme()">Dark theme</button>
    </div>
  </div>
</div>

<script type="text/javascript">
  
	$.getJSON( "{% url 'showdata' %}", function( data ) {
    console.log(JSON.stringify(data));

    var chart = AmCharts.makeChart( "chartdiv",{
  "type": "serial",
  "theme": "dark",
  "marginRight": 40,
  "marginLeft": 40,
  "autoMarginOffset": 20,
  "dataDateFormat": "YYYY-MM-DD",
  "valueAxes": [ {
                  "id": "v1",
                  "axisAlpha": 0,
                  "position": "left",
                  "ignoreAxisWidth": true
              } ],
  "balloon": {
              "borderThickness": 1,
              "shadowAlpha": 0
             },
  "graphs": [ {
            "id": "g1",
  "balloon": {
            "drop": true,
          "adjustBorderColor": false,
  "color": "#ffffff",
  "type": "smoothedLine"
              },
  "fillAlphas": 0.2,
  "bullet": "round",
  "bulletBorderAlpha": 1,
  "bulletColor": "#FFFFFF",
  "bulletSize": 5,
  "hideBulletsCount": 50,
  "lineThickness": 2,
  "title": "red line",
  "useLineColorForBulletBorder": true,
  "valueField": "humi",
  "balloonText": "<span style='font-size:18px;'>[[value]]</span>"
  } ],
"chartCursor": {
"valueLineEnabled": true,
"valueLineBalloonEnabled": true,
"cursorAlpha": 0,
"zoomable": false,
"valueZoomable": true,
"valueLineAlpha": 0.5
},
"valueScrollbar": {
"autoGridCount": true,
"color": "#000000",
"scrollbarHeight": 50
},
"categoryField": "time",
"categoryAxis": {
"parseDates": true,
"dashLength": 1,
"minorGridEnabled": true
},
"export": {
"enabled": true
},

"dataProvider": data ,

} );

function whiteTheme() {

var chart = AmCharts.makeChart( "chartdiv", {
"type": "serial",
"theme": "none",
"marginRight": 40,
"marginLeft": 40,
"autoMarginOffset": 20,
"dataDateFormat": "YYYY-MM-DD",
"valueAxes": [ {
"id": "v1",
"axisAlpha": 0,
"position": "left",
"ignoreAxisWidth": true
} ],
"balloon": {
"borderThickness": 1,
"shadowAlpha": 0
},
"graphs": [ {
"id": "g1",
"balloon": {
"drop": true,
"adjustBorderColor": false,
"color": "#ffffff",
"type": "smoothedLine"
},
"fillAlphas": 0.2,
"bullet": "round",
"bulletBorderAlpha": 1,
"bulletColor": "#FFFFFF",
"bulletSize": 5,
"hideBulletsCount": 50,
"lineThickness": 2,
"title": "red line",
"useLineColorForBulletBorder": true,
"valueField": "temp",
"balloonText": "<span style='font-size:18px;'>[[value]]</span>"
} ],
"chartCursor": {
"valueLineEnabled": true,
"valueLineBalloonEnabled": true,
"cursorAlpha": 0,
"zoomable": false,
"valueZoomable": true,
"valueLineAlpha": 0.5
},
"valueScrollbar": {
"autoGridCount": true,
"color": "#000000",
"scrollbarHeight": 50
},
"categoryField": "time",
"categoryAxis": {
"parseDates": true,
"dashLength": 1,
"minorGridEnabled": true
},
"export": {
"enabled": true
},
"dataProvider": data ,
} );

}
function darkTheme() {
var chart = AmCharts.makeChart( "chartdiv", {
"type": "serial",
"theme": "dark",
"marginRight": 40,
"marginLeft": 40,
"autoMarginOffset": 20,
"dataDateFormat": "YYYY-MM-DD",
"valueAxes": [ {
"id": "v1",
"axisAlpha": 0,
"position": "left",
"ignoreAxisWidth": true
} ],
"balloon": {
"borderThickness": 1,
"shadowAlpha": 0
},
"graphs": [ {
"id": "g1",
"balloon": {
"drop": true,
"adjustBorderColor": false,
"color": "#ffffff",
"type": "smoothedLine"
},
"fillAlphas": 0.2,
"bullet": "round",
"bulletBorderAlpha": 1,
"bulletColor": "#FFFFFF",
"bulletSize": 5,
"hideBulletsCount": 50,
"lineThickness": 2,
"title": "red line",
"useLineColorForBulletBorder": true,
"valueField": "value",
"balloonText": "<span style='font-size:18px;'>[[value]]</span>"
} ],
"chartCursor": {
"valueLineEnabled": true,
"valueLineBalloonEnabled": true,
"cursorAlpha": 0,
"zoomable": false,
"valueZoomable": true,
"valueLineAlpha": 0.5
},
"valueScrollbar": {
"autoGridCount": true,
"color": "#000000",
"scrollbarHeight": 50
},
"categoryField": "date",
"categoryAxis": {
"parseDates": true,
"dashLength": 1,
"minorGridEnabled": true
},
"export": {
"enabled": true
},
"dataProvider": data ,
} );
}



  });
  console.log("Dev");
</script>